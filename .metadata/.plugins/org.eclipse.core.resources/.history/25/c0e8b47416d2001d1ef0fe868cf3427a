/*
 * pid.h
 *
 *  Created on: Mar 22, 2023
 *      Author: Administrator
 */

#ifndef SRC_PID_H_
#define SRC_PID_H_

typedef struct
{
	float kp;  // 比例系数
	float ki;  // 积分系数
	float kd;  // 微分系数
	float setpoint;  // 设定值
	float feedback;  // 反馈值
	float integral;  // 积分项
	float prev_error;  // 上一次误差
} pid_controller;
extern pid_controller pid;
void pid_init(pid_controller* pid, float kp, float ki, float kd);
float pid_compute(pid_controller* pid, float feedback);
void pid_reset(pid_controller* pid);


#endif /* SRC_PID_H_ */
